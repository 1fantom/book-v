<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>4. Определённый интеграл</title>
  <link rel="stylesheet" href="../css/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
  <style>
    .content {
      max-width: 900px;
      margin: 30px auto;
      padding: 20px;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      color: #2c3e50;
      line-height: 1.6;
    }
    h1, h2, h3 {
      text-align: center;
      color: #2a2a2b;
      margin-bottom: 1em;
    }
    p {
      font-size: 1.1rem;
      margin-bottom: 1.2em;
    }
    .intro {
      background: #f9f9f9;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #ddd;
      margin-bottom: 25px;
    }
    .exercise {
      background: #f1f1f1;
      padding: 18px 20px;
      border-left: 4px solid #555;
      border-radius: 8px;
      margin-bottom: 25px;
    }
    .solution {
      background-color: #fff;
      padding: 15px 20px;
      border-radius: 6px;
      border: 1px solid #ccc;
      margin-top: 10px;
      display: none;
    }
    .btn-solution {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 16px;
      background-color: #4a4a4a;
      color: white;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 600;
      transition: background-color 0.3s ease;
      cursor: pointer;
    }
    .btn-solution:hover {
      background-color: #2a2a2a;
    }
  </style>
</head>
<body>
  <div id="header-placeholder"></div>

  <main class="content" aria-label="Определённый интеграл">
    <h1>4. Определённый интеграл</h1>

    <section class="intro">
      <p>
        Определённый интеграл — это важное понятие математического анализа, связанное с вычислением площади под кривой функции на заданном интервале. Он служит фундаментом для многих разделов математики, физики и инженерии.
      </p>
      <p>
        Ниже предложено 5 случайных задач для практики. Нажмите «Показать решение», чтобы увидеть ход и ответ.
      </p>
    </section>

    <div id="tasks-container">
      <!-- Здесь будут отображаться задачи -->
    </div>
  </main>

  <script>
    // Массив из 50 задач
    const tasks = [
  { "question": "Вычислить определённый интеграл: \\(\\int_0^2 (3x^2 + 2x)\\, dx\\)", "answer": "\\(\\int_0^2 (3x^2 + 2x)dx=[x^3+x^2]_0^2=12\\)" },
  { "question": "Найти площадь фигуры, ограниченной графиком функции \\(y=x^2\\) и прямой \\(x=3\\)", "answer": "\\(\\int_0^3 x^2dx=[\\tfrac{x^3}{3}]_0^3=9\\)" },
  { "question": "Проверить аддитивность: \\(\\int_0^4 \\sin xdx=\\int_0^2\\sin xdx+\\int_2^4\\sin xdx\\)", "answer": "Свойство верно: \\(\\int_0^4\\sin xdx=[-\\cos x]_0^4=-\\cos4+1\\)" },
  { "question": "Найти \\(\\int_{-1}^{1}x^3dx\\)", "answer": "\\(\\int_{-1}^{1}x^3dx=[\\tfrac{x^4}{4}]_{-1}^1=0\\)" },
  { "question": "Вычислить площадь между \\(y=x\\) и \\(y=x^2\\) на [0,1]", "answer": "\\(\\int_0^1(x-x^2)dx=\\tfrac{1}{6}\\)" },
  { "question": "Вычислить \\(\\int_1^2 \\tfrac{1}{x}dx\\)", "answer": "\\([\\ln x]_1^2=\\ln2\\)" },
  { "question": "Вычислить \\(\\int_0^{\\pi}\\sin xdx\\)", "answer": "\\([-\\cos x]_0^{\\pi}=2\\)" },
  { "question": "Вычислить \\(\\int_1^3 \\tfrac{1}{x^2}dx\\)", "answer": "\\([-x^{-1}]_1^3=\\tfrac{2}{3}\\)" },
  { "question": "Найти \\(\\int_0^2(x^3-x)dx\\)", "answer": "\\([\\tfrac{x^4}{4}-\\tfrac{x^2}{2}]_0^2=2\\)" },
  { "question": "Найти площадь под \\(y=\\sqrt{x}\\) на [0,4]", "answer": "\\(\\tfrac{2}{3}x^{3/2}|_0^4=\\tfrac{16}{3}\\)" },

  { "question": "Вычислить \\(\\int_0^1 x^1 dx\\)",    "answer": "\\(\\int_0^1 x^1dx=\\tfrac{1}{2}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^2 dx\\)",    "answer": "\\(\\int_0^1 x^2dx=\\tfrac{1}{3}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^3 dx\\)",    "answer": "\\(\\int_0^1 x^3dx=\\tfrac{1}{4}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^4 dx\\)",    "answer": "\\(\\int_0^1 x^4dx=\\tfrac{1}{5}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^5 dx\\)",    "answer": "\\(\\int_0^1 x^5dx=\\tfrac{1}{6}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^6 dx\\)",    "answer": "\\(\\int_0^1 x^6dx=\\tfrac{1}{7}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^7 dx\\)",    "answer": "\\(\\int_0^1 x^7dx=\\tfrac{1}{8}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^8 dx\\)",    "answer": "\\(\\int_0^1 x^8dx=\\tfrac{1}{9}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^9 dx\\)",    "answer": "\\(\\int_0^1 x^9dx=\\tfrac{1}{10}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{10} dx\\)", "answer": "\\(\\int_0^1 x^{10}dx=\\tfrac{1}{11}\\)" },

  { "question": "Вычислить \\(\\int_0^1 x^{11} dx\\)", "answer": "\\(\\int_0^1 x^{11}dx=\\tfrac{1}{12}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{12} dx\\)", "answer": "\\(\\int_0^1 x^{12}dx=\\tfrac{1}{13}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{13} dx\\)", "answer": "\\(\\int_0^1 x^{13}dx=\\tfrac{1}{14}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{14} dx\\)", "answer": "\\(\\int_0^1 x^{14}dx=\\tfrac{1}{15}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{15} dx\\)", "answer": "\\(\\int_0^1 x^{15}dx=\\tfrac{1}{16}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{16} dx\\)", "answer": "\\(\\int_0^1 x^{16}dx=\\tfrac{1}{17}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{17} dx\\)", "answer": "\\(\\int_0^1 x^{17}dx=\\tfrac{1}{18}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{18} dx\\)", "answer": "\\(\\int_0^1 x^{18}dx=\\tfrac{1}{19}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{19} dx\\)", "answer": "\\(\\int_0^1 x^{19}dx=\\tfrac{1}{20}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{20} dx\\)", "answer": "\\(\\int_0^1 x^{20}dx=\\tfrac{1}{21}\\)" },

  { "question": "Вычислить \\(\\int_0^1 x^{21} dx\\)", "answer": "\\(\\int_0^1 x^{21}dx=\\tfrac{1}{22}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{22} dx\\)", "answer": "\\(\\int_0^1 x^{22}dx=\\tfrac{1}{23}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{23} dx\\)", "answer": "\\(\\int_0^1 x^{23}dx=\\tfrac{1}{24}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{24} dx\\)", "answer": "\\(\\int_0^1 x^{24}dx=\\tfrac{1}{25}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{25} dx\\)", "answer": "\\(\\int_0^1 x^{25}dx=\\tfrac{1}{26}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{26} dx\\)", "answer": "\\(\\int_0^1 x^{26}dx=\\tfrac{1}{27}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{27} dx\\)", "answer": "\\(\\int_0^1 x^{27}dx=\\tfrac{1}{28}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{28} dx\\)", "answer": "\\(\\int_0^1 x^{28}dx=\\tfrac{1}{29}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{29} dx\\)", "answer": "\\(\\int_0^1 x^{29}dx=\\tfrac{1}{30}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{30} dx\\)", "answer": "\\(\\int_0^1 x^{30}dx=\\tfrac{1}{31}\\)" },

  { "question": "Вычислить \\(\\int_0^1 x^{31} dx\\)", "answer": "\\(\\int_0^1 x^{31}dx=\\tfrac{1}{32}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{32} dx\\)", "answer": "\\(\\int_0^1 x^{32}dx=\\tfrac{1}{33}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{33} dx\\)", "answer": "\\(\\int_0^1 x^{33}dx=\\tfrac{1}{34}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{34} dx\\)", "answer": "\\(\\int_0^1 x^{34}dx=\\tfrac{1}{35}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{35} dx\\)", "answer": "\\(\\int_0^1 x^{35}dx=\\tfrac{1}{36}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{36} dx\\)", "answer": "\\(\\int_0^1 x^{36}dx=\\tfrac{1}{37}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{37} dx\\)", "answer": "\\(\\int_0^1 x^{37}dx=\\tfrac{1}{38}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{38} dx\\)", "answer": "\\(\\int_0^1 x^{38}dx=\\tfrac{1}{39}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{39} dx\\)", "answer": "\\(\\int_0^1 x^{39}dx=\\tfrac{1}{40}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{40} dx\\)", "answer": "\\(\\int_0^1 x^{40}dx=\\tfrac{1}{41}\\)" },

  { "question": "Вычислить \\(\\int_0^1 x^{41} dx\\)", "answer": "\\(\\int_0^1 x^{41}dx=\\tfrac{1}{42}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{42} dx\\)", "answer": "\\(\\int_0^1 x^{42}dx=\\tfrac{1}{43}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{43} dx\\)", "answer": "\\(\\int_0^1 x^{43}dx=\\tfrac{1}{44}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{44} dx\\)", "answer": "\\(\\int_0^1 x^{44}dx=\\tfrac{1}{45}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{45} dx\\)", "answer": "\\(\\int_0^1 x^{45}dx=\\tfrac{1}{46}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{46} dx\\)", "answer": "\\(\\int_0^1 x^{46}dx=\\tfrac{1}{47}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{47} dx\\)", "answer": "\\(\\int_0^1 x^{47}dx=\\tfrac{1}{48}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{48} dx\\)", "answer": "\\(\\int_0^1 x^{48}dx=\\tfrac{1}{49}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{49} dx\\)", "answer": "\\(\\int_0^1 x^{49}dx=\\tfrac{1}{50}\\)" },
  { "question": "Вычислить \\(\\int_0^1 x^{50} dx\\)", "answer": "\\(\\int_0^1 x^{50}dx=\\tfrac{1}{51}\\)" }
];


    // Выбираем 5 случайных задач
    function getRandomTasks(arr, count) {
      const copy = [...arr];
      const res = [];
      for (let i = 0; i < count; i++) {
        const idx = Math.floor(Math.random() * copy.length);
        res.push(copy.splice(idx, 1)[0]);
      }
      return res;
    }

    // Отрисовка задач
    function renderTasks() {
      const container = document.getElementById('tasks-container');
      container.innerHTML = '';
      getRandomTasks(tasks, 5).forEach(t => {
        const sec = document.createElement('section');
        sec.className = 'exercise';
        sec.innerHTML = `
          <p>${t.question}</p>
          <button class="btn-solution" onclick="toggleSolution(this)">Показать решение</button>
          <div class="solution">${t.answer}</div>
        `;
        container.appendChild(sec);
      });
      if (window.MathJax) MathJax.typesetPromise();
    }

    // Показ/скрытие решения
    function toggleSolution(btn) {
      const sol = btn.nextElementSibling;
      const show = sol.style.display !== 'block';
      sol.style.display = show ? 'block' : 'none';
      btn.textContent = show ? 'Скрыть решение' : 'Показать решение';
      if (window.MathJax) MathJax.typesetPromise([sol]);
    }

    // Инициализация
    document.addEventListener('DOMContentLoaded', () => {
      renderTasks();
      fetch('../header.html')
        .then(r => r.ok ? r.text() : Promise.reject())
        .then(html => {
          document.getElementById('header-placeholder').innerHTML = html;
        })
        .catch(() => {
          document.getElementById('header-placeholder').innerHTML = '<p style="color:red; text-align:center;">Ошибка загрузки шапки</p>';
        });
    });
  </script>

  <script src="../js/menuToggle.js" defer></script>
</body>
</html>
